import{an as n}from"./index-DrziBPhZ.js";const f=async()=>{try{return(await n.get("/user")).data}catch(r){throw console.error("Error fetching user:",r),r}},E=async()=>{try{return(await n.get("/shops")).data}catch(r){throw console.error("Error fetching shops:",r),r}},x=async()=>{try{return(await n.get("/categories")).data}catch(r){throw console.error("Error fetching categories:",r),r}},S=async()=>{try{return(await n.get("/vehicles")).data}catch(r){throw console.error("Error fetching categories:",r),r}},N=async({page:r,limit:e,search:t,billType:s,month:p,year:l,startDate:d,endDate:c,category:o,shop:a,vehicle:i,paymentMethod:y})=>{try{return(await n.get("/bills",{params:{page:r,limit:e,search:t,billType:s,month:p,year:l,startDate:d,endDate:c,category:o,shop:a,vehicle:i,paymentMethod:y}})).data}catch(w){throw console.error("Error fetching bills:",w),w}},v=async r=>{try{return await n.post("/bills/",r,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw console.error("Error adding user:",e),e}},R=async(r,e)=>{try{return await n.put(`/bills/${r}`,e,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error editing user:",t),t}},D=async r=>{try{const e=await n.get(`/bills/${r}`);return{...e.data,attachments:Array.isArray(e.data.attachments)?e.data.attachments:e.data.attachments?[e.data.attachments]:[],category:e.data.category||{_id:"",name:""},shop:e.data.shop||{_id:"",shopName:""},billDate:e.data.billDate||new Date().toISOString().split("T")[0],amount:Number(e.data.amount)||0,invoiceNo:e.data.invoiceNo||"",remarks:e.data.remarks||"",paymentMethod:e.data.paymentMethod||""}}catch(e){throw console.error("Error fetching bill:",e),e}},O=async r=>{try{return await n.delete(`/bills/${r}`)}catch(e){throw console.error("Error deleting bill:",e),e}},I=async({search:r,billType:e,month:t,year:s,startDate:p,endDate:l,category:d,shop:c,vehicle:o,paymentMethod:a})=>{try{const i={search:r,billType:e,month:t,year:s,startDate:p?new Date(p).toISOString():void 0,endDate:l?new Date(l).toISOString():void 0,category:d,shop:c,vehicle:o,paymentMethod:a};Object.keys(i).forEach(h=>i[h]===void 0&&delete i[h]);const y=await n.get("/bills/export/excel",{params:i,responseType:"blob"});if(!y.data)throw new Error("No data received from server");const w=`bills_export_${e||"all"}_${new Date().toISOString().slice(0,10)}.xlsx`,u=window.URL.createObjectURL(new Blob([y.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),m=document.createElement("a");return m.href=u,m.setAttribute("download",w),document.body.appendChild(m),m.click(),setTimeout(()=>{document.body.removeChild(m),window.URL.revokeObjectURL(u)},100),!0}catch(i){console.error("Error exporting bills:",i);let y="Failed to export bills";throw i instanceof Error?y=i.message:typeof i=="string"&&(y=i),new Error(y)}},k=async({page:r,limit:e,search:t,reportType:s,month:p,year:l,startDate:d,endDate:c,category:o,shop:a})=>{try{return(await n.get("/bank",{params:{page:r,limit:e,search:t,reportType:s,month:p,year:l,startDate:d,endDate:c,category:o,shop:a}})).data}catch(i){throw console.error("Error fetching reports:",i),i}},j=async r=>{try{return await n.post("/bank/",r,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw console.error("Error adding Aadib report:",e),e}},L=async(r,e)=>{try{return await n.put(`/bank/${r}`,e,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error editing Aadib report:",t),t}},P=async r=>{try{const e=await n.get(`/bank/${r}`);return{...e.data,reportDate:e.data.reportDate||new Date().toISOString().split("T")[0],amount:Number(e.data.amount)||0,category:e.data.category||{_id:"",name:""},shop:e.data.shop||{_id:"",shopName:""},remarks:e.data.remarks||""}}catch(e){throw console.error("Error fetching Aadib report:",e),e}},$=async r=>{try{return await n.delete(`/bank/${r}`)}catch(e){throw console.error("Error deleting Aadib report:",e),e}},C=async({search:r,reportType:e,month:t,year:s,startDate:p,endDate:l,category:d,shop:c,employee:o})=>{try{const a={search:r,reportType:e,month:t,year:s,startDate:p?new Date(p).toISOString():void 0,endDate:l?new Date(l).toISOString():void 0,category:d,shop:c,employee:o};Object.keys(a).forEach(m=>a[m]===void 0&&delete a[m]);const i=await n.get("/bank/export/excel",{params:a,responseType:"blob"});if(!i.data)throw new Error("No data received from server");const y=`${e||"Report"}_${new Date().toISOString().slice(0,10)}.xlsx`,w=window.URL.createObjectURL(new Blob([i.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),u=document.createElement("a");return u.href=w,u.setAttribute("download",y),document.body.appendChild(u),u.click(),setTimeout(()=>{document.body.removeChild(u),window.URL.revokeObjectURL(w)},100),!0}catch(a){console.error("Error exporting bills:",a);let i="Failed to export bills";throw a instanceof Error?i=a.message:typeof a=="string"&&(i=a),new Error(i)}},T=async({page:r,limit:e,search:t,month:s,year:p,startDate:l,endDate:d})=>{try{return(await n.get("/project-profit",{params:{page:r,limit:e,search:t,month:s,year:p,startDate:l,endDate:d}})).data}catch(c){throw console.error("Error fetching reports:",c),c}},A=async r=>{try{return await n.post("/project-profit/",r,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){throw console.error("Error adding Aadib report:",e),e}},U=async(r,e)=>{try{return await n.put(`/project-profit/${r}`,e,{headers:{"Content-Type":"multipart/form-data"}})}catch(t){throw console.error("Error editing Aadib report:",t),t}},B=async r=>{try{const e=await n.get(`/project-profit/${r}`);return{...e.data,reportDate:e.data.reportDate||new Date().toISOString().split("T")[0],amount:Number(e.data.amount)||0,category:e.data.category||{_id:"",name:""},shop:e.data.shop||{_id:"",shopName:""},remarks:e.data.remarks||""}}catch(e){throw console.error("Error fetching Aadib report:",e),e}},_=async r=>{try{return await n.delete(`/project-profit/${r}`)}catch(e){throw console.error("Error deleting Aadib report:",e),e}},M=async({search:r,month:e,year:t,startDate:s,endDate:p,page:l,limit:d})=>{try{const c={search:r,month:e,year:t,page:l,limit:d};s&&(c.startDate=new Date(s).toISOString()),p&&(c.endDate=new Date(p).toISOString()),Object.keys(c).forEach(m=>c[m]===void 0&&delete c[m]);const o=await n.get("/project-profit/export/excel",{params:c,responseType:"blob"});if(!o.data)throw new Error("No data received from server");const a=new Date,y=`profit_report_${`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}.xlsx`,w=window.URL.createObjectURL(new Blob([o.data],{type:o.headers["content-type"]||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),u=document.createElement("a");return u.href=w,u.setAttribute("download",y),document.body.appendChild(u),u.click(),setTimeout(()=>{document.body.removeChild(u),window.URL.revokeObjectURL(w)},100),!0}catch(c){console.error("Error exporting profit report:",c);let o="Failed to export profit report";throw c instanceof Error?o=c.message:typeof c=="string"?o=c:c&&typeof c=="object"&&"message"in c&&(o=c.message),new Error(o)}},F=async({page:r,limit:e,search:t,startDate:s,endDate:p,month:l,year:d,employee:c})=>{try{return(await n.get("/payroll",{params:{page:r,limit:e,search:t,startDate:s,endDate:p,month:l,year:d,employee:c}})).data}catch(o){throw console.error("Error fetching payroll reports:",o),o}},V=async r=>{try{return await n.post("/payroll/",r)}catch(e){throw console.error("Error adding payroll report:",e),e}},Y=async(r,e)=>{try{return await n.put(`/payroll/${r}`,e)}catch(t){throw console.error("Error editing payroll report:",t),t}},q=async r=>{try{const e=await n.get(`/payroll/${r}`);return{...e.data,paymentDate:e.data.paymentDate||new Date().toISOString().split("T")[0],basicSalary:Number(e.data.basicSalary)||0,allowances:Number(e.data.allowances)||0,deductions:Number(e.data.deductions)||0,netSalary:Number(e.data.netSalary)||0,status:e.data.status||"pending",employee:e.data.employee||{_id:"",name:"",designation:""}}}catch(e){throw console.error("Error fetching payroll report:",e),e}},H=async r=>{try{return await n.delete(`/payroll/${r}`)}catch(e){throw console.error("Error deleting payroll report:",e),e}},z=async({search:r,month:e,year:t,startDate:s,endDate:p,status:l,page:d,limit:c,employee:o})=>{try{const a={search:r,month:e,year:t,status:l,page:d,limit:c,employee:o};s&&(a.startDate=new Date(s).toISOString()),p&&(a.endDate=new Date(p).toISOString()),Object.keys(a).forEach(b=>a[b]===void 0&&delete a[b]);const i=await n.get("/payroll/export/excel",{params:a,responseType:"blob"});if(!i.data)throw new Error("No data received from server");const y=new Date,u=`payroll_report_${`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`}.xlsx`,m=window.URL.createObjectURL(new Blob([i.data],{type:i.headers["content-type"]||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),h=document.createElement("a");return h.href=m,h.setAttribute("download",u),document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),window.URL.revokeObjectURL(m)},100),!0}catch(a){console.error("Error exporting payroll report:",a);let i="Failed to export payroll report";throw a instanceof Error?i=a.message:typeof a=="string"?i=a:a&&typeof a=="object"&&"message"in a&&(i=a.message),new Error(i)}},G=async({page:r,limit:e,search:t,startDate:s,month:p,year:l,endDate:d,employee:c})=>{try{return(await n.get("/employee-expenses/",{params:{page:r,limit:e,search:t,month:p,year:l,employee:c,startDate:s,endDate:d}})).data}catch(o){throw console.error("Error fetching payroll reports:",o),o}},J=async r=>{try{return await n.post("/employee-expenses/",r)}catch(e){throw console.error("Error adding labour expenses report:",e),e}},K=async(r,e)=>{try{return await n.put(`/employee-expenses/${r}`,e)}catch(t){throw console.error("Error editing labour expenses report:",t),t}},Q=async r=>{try{return await n.delete(`/employee-expenses/${r}`)}catch(e){throw console.error("Error deleting labour expenses report:",e),e}},W=async r=>{var e;try{const t=await n.get(`/employee-expenses/${r}`);return{...t.data,expenses:((e=t.data.expenses)==null?void 0:e.map(s=>({employee:s.employee||"",designation:s.designation||"",country:s.country||"",basicSalary:Number(s.basicSalary)||0,allowance:Number(s.allowance)||0,total:Number(s.total)||0,twoYearSalary:Number(s.twoYearSalary)||0,visaExpenses:Number(s.visaExpenses)||0,twoYearUniform:Number(s.twoYearUniform)||0,shoes:Number(s.shoes)||0,twoYearAccommodation:Number(s.twoYearAccommodation)||0,sewaBills:Number(s.sewaBills)||0,dewaBills:Number(s.dewaBills)||0,insurance:Number(s.insurance)||0,transport:Number(s.transport)||0,water:Number(s.water)||0,thirdPartyLiabilities:Number(s.thirdPartyLiabilities)||0,fairmontCertificate:Number(s.fairmontCertificate)||0,leaveSalary:Number(s.leaveSalary)||0,ticket:Number(s.ticket)||0,gratuity:Number(s.gratuity)||0})))||[]}}catch(t){throw console.error("Error fetching labour expenses report:",t),t}},X=async({search:r,startDate:e,endDate:t,page:s,limit:p,employee:l,month:d,year:c})=>{try{const o={...r&&{search:r},...s&&{page:s},...p&&{limit:p},...d&&{month:d},...c&&{year:c},...l&&{employee:l}};e&&(o.startDate=new Date(e).toISOString()),t&&(o.endDate=new Date(t).toISOString());const a=await n.get("/employee-expenses/export/excel",{params:o,responseType:"blob"});if(!a.data)throw new Error("No data received from server");const i=new Date,w=`Employee_Expenses_Report_${[i.getFullYear(),String(i.getMonth()+1).padStart(2,"0"),String(i.getDate()).padStart(2,"0")].join("-")}.xlsx`,u=new Blob([a.data],{type:a.headers["content-type"]||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),m=URL.createObjectURL(u),h=document.createElement("a");return h.href=m,h.setAttribute("download",w),document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(m)},100),!0}catch(o){console.error("Error exporting employee expenses:",o);let a="Failed to export employee expenses report";throw o instanceof Error?a=o.message:typeof o=="string"&&(a=o),new Error(a)}},Z=async({page:r,limit:e,search:t,startDate:s,month:p,year:l,endDate:d,employee:c})=>{try{return(await n.get("/visa-expenses/",{params:{page:r,limit:e,search:t,startDate:s,endDate:d,employee:c,month:p,year:l}})).data}catch(o){throw console.error("Error fetching visa expenses reports:",o),o}},ee=async r=>{try{return await n.post("/visa-expenses/",r)}catch(e){throw console.error("Error adding visa expenses report:",e),e}},re=async(r,e)=>{try{return await n.put(`/visa-expenses/${r}`,e)}catch(t){throw console.error("Error editing visa expenses report:",t),t}},te=async r=>{try{return await n.delete(`/visa-expenses/${r}`)}catch(e){throw console.error("Error deleting visa expenses report:",e),e}},oe=async r=>{try{const e=await n.get(`/visa-expenses/${r}`);return{...e.data,employee:e.data.employee||"",iBan:e.data.iBan||"",passportNumber:e.data.passportNumber||"",passportExpireDate:e.data.passportExpireDate||"",emirateIdNumber:e.data.emirateIdNumber||"",emirateIdExpireDate:e.data.emirateIdExpireDate||"",labourCardPersonalNumber:e.data.labourCardPersonalNumber||"",workPermitNumber:e.data.workPermitNumber||"",labourExpireDate:e.data.labourExpireDate||"",offerLetterTyping:Number(e.data.offerLetterTyping)||0,labourInsurance:Number(e.data.labourInsurance)||0,labourCardPayment:Number(e.data.labourCardPayment)||0,statusChangeInOut:Number(e.data.statusChangeInOut)||0,insideEntry:Number(e.data.insideEntry)||0,medicalSharjah:Number(e.data.medicalSharjah)||0,tajweehSubmission:Number(e.data.tajweehSubmission)||0,iloeInsurance:Number(e.data.iloeInsurance)||0,healthInsurance:Number(e.data.healthInsurance)||0,emirateId:Number(e.data.emirateId)||0,residenceStamping:Number(e.data.residenceStamping)||0,srilankaCouncilHead:Number(e.data.srilankaCouncilHead)||0,upscoding:Number(e.data.upscoding)||0,labourFinePayment:Number(e.data.labourFinePayment)||0,labourCardRenewalPayment:Number(e.data.labourCardRenewalPayment)||0,servicePayment:Number(e.data.servicePayment)||0,visaStamping:Number(e.data.visaStamping)||0,twoMonthVisitingVisa:Number(e.data.twoMonthVisitingVisa)||0,finePayment:Number(e.data.finePayment)||0,entryPermitOutside:Number(e.data.entryPermitOutside)||0,complaintEmployee:Number(e.data.complaintEmployee)||0,arabicLetter:Number(e.data.arabicLetter)||0,violationCommittee:Number(e.data.violationCommittee)||0,quotaModification:Number(e.data.quotaModification)||0,others:Number(e.data.others)||0,total:Number(e.data.total)||0}}catch(e){throw console.error("Error fetching visa expenses report:",e),e}},ae=async({search:r,startDate:e,endDate:t,page:s,limit:p,employee:l,month:d,year:c})=>{try{const o={search:r,page:s,limit:p,startDate:e,endDate:t,month:d,year:c,employee:l};e&&(o.startDate=new Date(e).toISOString()),t&&(o.endDate=new Date(t).toISOString()),Object.keys(o).forEach(h=>o[h]===void 0&&delete o[h]);const a=await n.get("/visa-expenses/export/excel",{params:o,responseType:"blob"});if(!a.data)throw new Error("No data received from server");const i=new Date,w=`Visa_expense_report_${`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}.xlsx`,u=window.URL.createObjectURL(new Blob([a.data],{type:a.headers["content-type"]||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),m=document.createElement("a");return m.href=u,m.setAttribute("download",w),document.body.appendChild(m),m.click(),setTimeout(()=>{document.body.removeChild(m),window.URL.revokeObjectURL(u)},100),!0}catch(o){console.error("Error exporting visa expense report:",o);let a="Failed to export visa expense report";throw o instanceof Error?a=o.message:typeof o=="string"?a=o:o&&typeof o=="object"&&"message"in o&&(a=o.message),new Error(a)}},se=async({year:r,month:e})=>{try{return await n.get("/reports/monthly",{params:{year:r,month:e},responseType:"blob"})}catch(t){throw console.error("Error downloading monthly report:",t),t}},ne=async({year:r})=>{try{return await n.get("/reports/yearly",{params:{year:r},responseType:"blob"})}catch(e){throw console.error("Error downloading yearly report:",e),e}};export{T as A,P as B,L as C,j as D,B as E,U as F,A as G,W as H,K as I,J,q as K,Y as L,V as M,oe as N,re as O,ee as P,ne as a,N as b,_ as c,O as d,I as e,Q as f,se as g,H as h,te as i,$ as j,E as k,x as l,S as m,f as n,D as o,R as p,v as q,M as r,X as s,z as t,ae as u,C as v,k as w,Z as x,F as y,G as z};
