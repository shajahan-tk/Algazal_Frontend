import{r as c,c as r,j as t,G as y}from"./index-CfFwh--H.js";import{u as T,a as D,o as G,f as W,s as E,b as M,c as P,d as H,e as O,g as I,F as U}from"./floating-ui.react-DGPs_AnH.js";import{a as V}from"./floating-ui.dom-B_iSk-nO.js";import{A as K}from"./index-CbqZmROt.js";import{m as L}from"./proxy-DVFC3BrG.js";const z=c.forwardRef((s,i)=>{const{alt:n,className:e,icon:o,shape:m="rounded",size:a="md",src:g,srcSet:j,...f}=s;let{children:l}=s;const[p,d]=c.useState(1),h=c.useRef(null),u=c.useRef(null),N=T(i,u),C=()=>{if(!h.current||!u.current)return;const x=h.current.offsetWidth,v=u.current.offsetWidth;x===0||v===0||d(v-8<x?(v-8)/x:1)};c.useEffect(()=>{C()},[p,l]);const b=typeof a=="number"?{width:a,height:a,minWidth:a,lineHeight:`${a}px`,fontSize:o?a/2:12}:{},w=r("avatar",`avatar-${m}`,typeof a=="string"?`avatar-${a}`:"",e);if(g)l=t.jsx("img",{className:`avatar-img avatar-${m}`,src:g,srcSet:j,alt:n,loading:"lazy"});else if(o)l=t.jsx("span",{className:r("avatar-icon",`avatar-icon-${a}`),children:o});else{const x=typeof a=="number"?{lineHeight:`${a}px`}:{},v={transform:`translateX(-50%) scale(${p})`};l=t.jsx("span",{ref:h,className:`avatar-string ${typeof a=="number"?"":`avatar-inner-${a}`}`,style:{...x,...v,...typeof a=="number"?{height:a}:{}},children:l})}return t.jsx("span",{ref:N,className:w,style:{...b,...f.style},...f,children:l})});z.displayName="Avatar";function F(s){return y({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},child:[]}]})(s)}function $(s){return y({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},child:[]}]})(s)}function A(s){return y({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},child:[]}]})(s)}function S(s){return y({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},child:[]}]})(s)}const X=({placement:s,color:i,colorDark:n})=>{const e=`absolute text-${i} dark:text-${n}`,o=()=>{switch(s){case"top":return t.jsx(F,{className:r(e,"-bottom-2 w-full left-0")});case"top-start":return t.jsx(F,{className:r(e,"-bottom-2 left-0 ml-3")});case"top-end":return t.jsx(F,{className:r(e,"-bottom-2 right-0 mr-3")});case"right":return t.jsx($,{className:r(e,"-left-2 top-1/2 transform -translate-y-1/2")});case"right-start":return t.jsx($,{className:r(e,"-left-2 top-2")});case"right-end":return t.jsx($,{className:r(e,"-left-2 bottom-2")});case"bottom":return t.jsx(S,{className:r(e,"-top-2 w-full left-0")});case"bottom-start":return t.jsx(S,{className:r(e,"-top-2 left-0 ml-3")});case"bottom-end":return t.jsx(S,{className:r(e,"-top-2 right-0 mr-3")});case"left":return t.jsx(A,{className:r(e,"-right-2 top-1/2 transform -translate-y-1/2")});case"left-start":return t.jsx(A,{className:r(e,"-right-2 top-2")});case"left-end":return t.jsx(A,{className:r(e,"-right-2 bottom-2")})}};return t.jsx("div",{children:o()})},R=s=>{const{className:i,children:n,isOpen:e=!1,placement:o="top",title:m,wrapperClass:a}=s,[g,j]=c.useState(e),f="gray-800",l="black",p=`tooltip bg-${f} dark:bg-${l}`,{refs:d,floatingStyles:h,context:u}=D({open:e,onOpenChange:j,placement:o,whileElementsMounted:V,middleware:[G(7),W({fallbackAxisSideDirection:"start"}),E()]}),N=M(u,{move:!1}),C=P(u),b=H(u),w=O(u,{role:"tooltip"}),{getReferenceProps:x,getFloatingProps:v}=I([N,C,b,w]);return t.jsxs(t.Fragment,{children:[t.jsx("span",{ref:d.setReference,...x(),className:r("tooltip-wrapper",a),children:n}),t.jsx(U,{children:g&&t.jsx(K,{children:t.jsxs(L.div,{ref:d.setFloating,className:r(p,i),initial:{opacity:0,visibility:"hidden"},animate:g?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"},transition:{duration:.15,type:"tween"},style:h,...v(),children:[t.jsx("span",{children:m}),t.jsx(X,{placement:u.placement,color:f,colorDark:l})]})})})]})};R.displayName="Tooltip";const B=({children:s,chained:i,className:n})=>t.jsx("div",{className:r("avatar-group",i&&"avatar-group-chained",n),children:s}),k=s=>{const{chained:i=!1,children:n,className:e,maxCount:o=4,onOmittedAvatarClick:m,omittedAvatarContent:a,omittedAvatarProps:g,omittedAvatarTooltip:j=!1}=s,f=c.Children.count(n),l=c.Children.toArray(n).map((p,d)=>c.cloneElement(p,{key:`grouped-avatar-${d}`}));if(o&&o<f){const p=l.slice(0,o),d=f-o,h=t.jsx(z,{className:m?"cursor-pointer":"",onClick:()=>m==null?void 0:m(),...g,children:a||`+${d}`});return p.push(j?t.jsx(R,{title:`${d} More`,children:t.jsx(t.Fragment,{children:h})},"avatar-more-tooltip"):t.jsx(c.Fragment,{children:h},"avatar-more-tooltip")),t.jsx(B,{className:e,chained:i,children:p})}return t.jsx(B,{className:e,chained:i,children:n})};k.displayName="AvatarGroup";const q=z;q.Group=k;export{q as A,R as T};
