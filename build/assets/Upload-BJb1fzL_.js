import{r as c,ay as Y,j as e,c as v,ah as H}from"./index-CDUqAS1l.js";import{aj as xe,H as be,av as ge}from"./index-BerpkDBA.js";import{u as Ce,a as je}from"./useControllableState-DyX12gyY.js";import{u as q,T as G}from"./index-CRkWz9hY.js";import{u as Te}from"./useUniqueId-CQBDBfVD.js";import{u as ye}from"./floating-ui.react-CCBWD0pR.js";import{C as Z}from"./CloseButton-BXRa_ZJ2.js";import{I as Re}from"./Input-DXBk0KXn.js";import{c as Ie}from"./Skeleton-DoyxclK2.js";import{V as $e,a as Se,b as we}from"./index-DQYmJabE.js";import{B as Ee}from"./Button-BPBskG9o.js";import{t as Fe,N as Le}from"./toast-DGerJIJB.js";function ke(n,l,i){let a=0;return c.Children.map(n,s=>{if(!c.isValidElement(s))return s;const t=l.call(i,s,a);return a+=1,t})}function Q(n,l,i){return ke(n,(a,s)=>c.cloneElement(a,{key:s,...l(a,s)}),i)}const{COMPLETE:Pe,PENDING:Oe,IN_PROGRESS:Ue,ERROR:De}=Y,ee=c.forwardRef((n,l)=>{const{className:i,children:a,vertical:s=!1,current:t=0,status:r=Ue,onChange:o,...C}=n,u=c.Children.count(a),N=Q(a,(h,d)=>{const R={flexBasis:d<u-1?`${100/(u-1)}%`:void 0,maxWidth:d===u-1?`${100/u}%`:void 0},f={stepNumber:d+1,status:Oe,style:s?void 0:R,isLast:d===u-1,vertical:s,onStepChange:o?()=>o(d):void 0,...h.props};return r===De&&d===t-1&&(f.className=v("steps-item-error")),h.props.status||(d===t?(f.status=r,f.className=v(f.className,"steps-item-active")):d<t&&(f.status=Pe)),f});return e.jsx("div",{ref:l,className:v("steps",s&&"steps-vertical",i),...C,children:N})});ee.displayName="Steps";const{COMPLETE:M,PENDING:Ve,IN_PROGRESS:se,ERROR:_}=Y,_e={[M]:e.jsx(be,{}),[Ve]:null,[se]:null,[_]:e.jsx(xe,{})},te=c.forwardRef((n,l)=>{const{className:i,customIcon:a,description:s,isLast:t,onStepChange:r,status:o,stepNumber:C,title:u,vertical:N,...h}=n,{themeColor:d,primaryColorLevel:R}=H(),f=`${d}-${R}`;let x=e.jsx("span",{children:_e[o]??C});a&&(x=e.jsx("span",{children:a}));const I=v(`step-item step-item-${o}`,N&&"step-item-vertical",i),F=v("step-item-wrapper",r&&"step-clickable"),L=v(`step-item-icon step-item-icon-${o}`,o===M&&`bg-${f} text-white`,o===_&&"step-item-icon-error",o===se&&`text-${f} dark:text-gray-100 border-${f} step-item-icon-current`),y=v("step-connect",u&&"ml-2.5 rtl:mr-2.5",N&&"step-connect-vertical",o===M?`bg-${f}`:"inactive"),S=v("step-item-title",o===_&&"step-item-title-error",r&&o!==_&&`hover:text-${f}`),T=()=>{r==null||r()};return e.jsxs("div",{className:I,...h,ref:l,role:"presentation",onClick:T,children:[e.jsxs("div",{className:F,children:[e.jsx("div",{className:L,children:x}),u&&e.jsxs("div",{className:"step-item-content",children:[u&&e.jsx("span",{className:S,children:u}),s&&N&&e.jsx("span",{className:"step-item-description",children:s})]})]}),!t&&e.jsx("div",{className:y})]})});te.displayName="StepItem";const ze=ee;ze.Item=te;const A=c.createContext({}),Be=A.Provider;A.Consumer;function J(){return c.useContext(A)}const ae=c.forwardRef((n,l)=>{const{className:i,defaultValue:a,onChange:s,value:t,variant:r="underline",...o}=n,[C,u]=Ce({prop:t,onChange:s,defaultProp:a}),N=v("tabs",i);return e.jsx(Be,{value:{value:C,onValueChange:u,variant:r},children:e.jsx("div",{className:N,...o,ref:l})})});ae.displayName="Tabs";const ne=c.forwardRef((n,l)=>{const{className:i,children:a,...s}=n,{variant:t}=J(),r=v("tab-list",`tab-list-${t}`,i);return e.jsx("div",{ref:l,role:"tablist",className:r,...s,children:a})});ne.displayName="TabList";const le=c.forwardRef((n,l)=>{const{value:i,disabled:a,className:s,icon:t,children:r,...o}=n,{value:C,onValueChange:u,variant:N}=J(),h=i===C,{themeColor:d,primaryColorLevel:R}=H(),f=je(()=>{!h&&!a&&(u==null||u(i))}),x=`${d}-${R}`,I=v("tab-nav",`tab-nav-${N}`,h&&`tab-nav-active text-${x} dark:text-${d}-100`,h&&N==="underline"&&`border-${x}`,h&&N==="pill"&&`bg-${d}-50 dark:bg-${x} dark:text-gray-100`,a&&"tab-nav-disabled",!a&&!h&&`hover:text-${x} dark:hover:text-${d}-100`,s);return e.jsxs("div",{ref:l,className:I,role:"tab","aria-selected":h,tabIndex:0,onClick:f,onKeyDown:f,...o,children:[t&&e.jsx("div",{className:"tab-nav-icon",children:t}),r]})});le.displayName="TabNav";const ie=c.forwardRef((n,l)=>{const{value:i,children:a,className:s,...t}=n,r=J(),o=i===r.value,C=v("tab-content",o&&"tab-content-active",s);return e.jsx("div",{ref:l,role:"tabpanel",tabIndex:0,className:C,...t,children:o&&a})});ie.displayName="TabContent";const K=ae;K.TabList=ne;K.TabNav=le;K.TabContent=ie;const re=c.forwardRef((n,l)=>{const{amPmPlaceholder:i="am",clearable:a=!1,className:s,defaultValue:t=[null,null],disabled:r=!1,format:o="24",id:C,invalid:u,name:N,onChange:h,prefix:d,seperator:R="~",showSeconds:f=!1,size:x,style:I,suffix:F=e.jsx(ge,{className:"text-lg"}),timeFieldPlaceholder:L="--",value:y,...S}=n,T=Te(C),$=c.useRef(),P=c.useRef(),[j,w]=c.useState(y??t);q(()=>{typeof h=="function"&&h(j)},[j]),q(()=>{var g,U,D,V;y&&(((g=y[0])==null?void 0:g.getTime())!==((U=j[0])==null?void 0:U.getTime())||((D=y[1])==null?void 0:D.getTime())!==((V=j[1])==null?void 0:V.getTime()))&&w(y)},[y]);const z=()=>{var g;w([null,null]),(g=$.current)==null||g.focus()},O=a&&j?e.jsx(Z,{onClick:z}):e.jsx(e.Fragment,{children:F}),k={amPmPlaceholder:i,disabled:r,format:o,size:x,timeFieldPlaceholder:L,showSeconds:f};return e.jsx(Re,{asElement:"div",invalid:u,size:x,className:s,style:I,disabled:r,suffix:O,prefix:d,onClick:()=>{var g;(g=$.current)==null||g.focus()},...S,children:e.jsxs("div",{className:"time-input-wrapper",children:[e.jsx(G,{ref:ye($,l),unstyle:!0,value:j[0],name:N,nextRef:P,id:T,clearable:!1,suffix:null,onChange:g=>w([g,j[1]]),...k}),e.jsx("span",{className:"time-input-separator",children:R}),e.jsx(G,{ref:P,unstyle:!0,value:j[1],clearable:!1,suffix:null,onChange:g=>w([j[0],g]),...k})]})})});re.displayName="TimeInputRange";const Ge=G;Ge.TimeInputRange=re;const oe=c.forwardRef((n,l)=>{const{children:i,className:a}=n,s=c.Children.count(i),t=Q(i,(r,o)=>({isLast:o===s-1,...r.props}));return e.jsx("ul",{ref:l,className:v("timeline",a),children:t})});oe.displayName="Timeline";const ce=c.forwardRef((n,l)=>{const{children:i,className:a,isLast:s,media:t}=n;return e.jsx("li",{ref:l,className:v("timeline-item",s?"timeline-item-last":"",a),children:e.jsxs("div",{className:"timeline-item-wrapper",children:[e.jsxs("div",{className:"timeline-item-media",children:[e.jsx("div",{className:"timeline-item-media-content",children:t||e.jsx("div",{className:"timeline-item-media-default"})}),!s&&e.jsx("div",{className:"timeline-connect"})]}),e.jsx("div",{className:v("timeline-item-content",s&&"timeline-item-content-last"),children:i})]})})});ce.displayName="TimeLineItem";const Me=oe;Me.Item=ce;const He=1e3,Ae=n=>Math.round(n/He),B=({children:n})=>e.jsx("span",{className:"text-4xl",children:n}),me=n=>{const{file:l,children:i}=n,{type:a,name:s,size:t}=l,r=()=>a.split("/")[0]==="image"?e.jsx("img",{className:"upload-file-image",src:URL.createObjectURL(l),alt:`file preview ${s}`}):a==="application/zip"?e.jsx(B,{children:e.jsx($e,{})}):a==="application/pdf"?e.jsx(B,{children:e.jsx(Se,{})}):e.jsx(B,{children:e.jsx(we,{})});return e.jsxs("div",{className:"upload-file",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"upload-file-thumbnail",children:r()}),e.jsxs("div",{className:"upload-file-info",children:[e.jsx("h6",{className:"upload-file-name",children:s}),e.jsxs("span",{className:"upload-file-size",children:[Ae(t)," kb"]})]})]}),i]})};me.displayName="UploadFileItem";const X=n=>Object.keys(n).map(l=>n[l]),Je=async(n,l)=>{const a=await(await fetch(n)).blob();return new File([a],l,{type:a.type})},Ke=c.forwardRef((n,l)=>{const{accept:i,beforeUpload:a,disabled:s=!1,draggable:t=!1,fileList:r=[],defaultFile:o=[],fileListClass:C,fileItemClass:u,multiple:N,onChange:h,onFileRemove:d,showList:R=!0,tip:f,uploadLimit:x,children:I,className:F,field:L,...y}=n,S=c.useRef(null),[T,$]=c.useState(r),[P,j]=c.useState(!1),{themeColor:w,primaryColorLevel:z}=H();c.useEffect(()=>{(async()=>{if(o.length>0&&T.length===0){const m=await Promise.all(o.map(async b=>{if(b.url)try{return await Je(b.url,b.name)}catch(E){return console.error("Error loading file:",E),new File([],b.name)}return new File([],b.name)}));$(m)}})()},[o,T.length]),c.useEffect(()=>{JSON.stringify(T)!==JSON.stringify(r)&&$(r)},[JSON.stringify(r)]);const O=(p="")=>{Fe.push(e.jsx(Le,{type:"danger",duration:2e3,children:p||"Upload Failed!"}),{placement:"top-center"})},k=(p,m)=>{if(p)for(const b of p)m.push(b);return m},g=p=>{let m=Ie(T);return typeof x=="number"&&x!==0&&Object.keys(m).length>=x?(x===1&&(m.shift(),m=k(p,m)),X({...m})):(m=k(p,m),X({...m}))},U=p=>{const{files:m}=p.target;let b=!0;if(a){if(b=a(m,T),b===!1){O();return}if(typeof b=="string"&&b.length>0){O(b);return}}if(b){const E=g(m);$(E),h==null||h(E,T)}},D=p=>{const m=T.filter((b,E)=>E!==p);$(m),d==null||d(m)},V=p=>{var m;s||(m=S.current)==null||m.click(),p.stopPropagation()},de=()=>!t&&!I?e.jsx(Ee,{disabled:s,onClick:p=>p.preventDefault(),children:"Upload"}):t&&!I?e.jsx("span",{children:"Choose a file or drag and drop here"}):I,pe=c.useCallback(()=>{t&&j(!1)},[t]),ue=c.useCallback(()=>{t&&!s&&j(!0)},[t,s]),fe=c.useCallback(()=>{t&&j(!1)},[t]),he={onDragLeave:pe,onDragOver:ue,onDrop:fe},W=`border-${w}-${z}`,ve=v("upload",t&&"upload-draggable",t&&!s&&`hover:${W}`,t&&s&&"disabled",P&&W,F),Ne=v("upload-input",t&&"draggable");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:l,className:ve,...t?he:{onClick:V},...y,children:[e.jsx("input",{ref:S,className:Ne,type:"file",disabled:s,multiple:N,accept:i,title:"",value:"",onChange:U,...L}),de()]}),f,R&&e.jsx("div",{className:v("upload-file-list",C),children:T.map((p,m)=>e.jsx(me,{file:p,className:u,previewUrl:p.size>0?URL.createObjectURL(p):void 0,children:e.jsx(Z,{className:"upload-file-remove",onClick:()=>D(m)})},p.name+m))})]})});Ke.displayName="Upload";export{Ke as U};
