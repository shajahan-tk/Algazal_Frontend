import{r as i,Y as $,j as r,v as de}from"./index-DrziBPhZ.js";import{D as pe}from"./DataTable-aN3aFI0i.js";import{Q as he,aU as xe,O as me,W as ue,$ as ye}from"./index-Ds8t50Me.js";import{b as ge}from"./index-DZmdYC9e.js";import{u as we}from"./useThemeClass-DpghVrlu.js";import{u as je}from"./useQuery-CJS06_BC.js";import{d as be}from"./debounce-BBgJYGlY.js";import{I as fe}from"./Input-B4wHBRkW.js";import{r as De,s as Ke,t as ve,u as Ee,v as Fe,w as Ce,x as Ne,y as Se,z as Pe,A as ke}from"./api-BL3Ea9lB.js";import{h as w}from"./moment-C5S46NFB.js";import{a as Ye,b as Ae}from"./BillTableTools-DmUMHSjA.js";const P=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],Ie=()=>{const p=new Date().getFullYear();return Array.from({length:10},(b,n)=>({value:p-n,label:(p-n).toString()}))},j=({row:p,onDeleteClick:b})=>{const{textTheme:n}=we(),f=de(),d=$(),x=d.pathname.includes("/adib-report-view")?"adib":d.pathname.includes("/profit-and-loss-report-view")?"profit":d.pathname.includes("/labour-expenses-report-view")?"labour":d.pathname.includes("/payroll-report-view")?"payroll":d.pathname.includes("/visa-expense-report-view")?"visaExpense":"expense",m={adib:"/app/new-adib-report",expense:"/app/new-expense-report",profit:"/app/new-profit-and-loss-report",labour:"/app/new-labour-expenses-report",payroll:"/app/new-payroll-report",visaExpense:"/app/new-visa-expense-report"},E=()=>{f("/app/bill-attachments",{state:{data:p==null?void 0:p.attachments},type:"report"})},D=()=>{f(`${m[x]}/${p._id}`)};return r.jsxs("div",{className:"flex text-lg",children:[x!=="labour"&&x!=="payroll"&&x!=="visaExpense"&&r.jsx("span",{className:`cursor-pointer p-2 hover:${n}`,onClick:E,children:r.jsx(me,{})}),r.jsx("span",{className:`cursor-pointer p-2 hover:${n}`,onClick:D,children:r.jsx(ue,{})}),r.jsx("span",{className:"cursor-pointer p-2 hover:text-red-500",onClick:()=>b(p),children:r.jsx(ye,{})})]})},We=({onDropdownSelect:p})=>{var R,T,O,L,B,V;const b=i.useRef(null),[n,f]=i.useState(""),[d,x]=i.useState(new Date().getMonth()+1),[m,E]=i.useState(new Date().getFullYear()),[D,k]=i.useState(!1),[c,K]=i.useState({page:1,limit:10}),[H,F]=i.useState(!1),[U,q]=i.useState(null),[z,C]=i.useState(!1),[s,Y]=i.useState({startDate:"",endDate:"",category:"",shop:"",employee:""}),y=$(),o=i.useCallback(()=>y.pathname.includes("/adib-report-view")?"adib":y.pathname.includes("/profit-and-loss-report-view")?"profit":y.pathname.includes("/labour-expenses-report-view")?"labour":y.pathname.includes("/payroll-report-view")?"payroll":y.pathname.includes("/visa-expense-report-view")?"visaExpense":"expense",[y.pathname])();console.log(o);const W=e=>{Y(e),K(a=>({...a,page:1}))},A={profit:ke,labour:Pe,payroll:Se,visaExpense:Ne,default:Ce},J=()=>{const e={page:c.page,limit:c.limit,search:n,month:d,year:m},a={startDate:s.startDate,endDate:s.endDate,category:s.category,shop:s.shop,employee:s.employee,reportType:o};switch(o){case"profit":return{...e,startDate:s.startDate,endDate:s.endDate};case"expenses":return{...e,category:s.category,shop:s.shop,startDate:s.startDate,endDate:s.endDate};case"payroll":return{...e,startDate:s.startDate,endDate:s.endDate,employee:s.employee};case"visaExpense":return{...e,startDate:s.startDate,endDate:s.endDate,employee:s.employee};default:return{...e,...a}}},Q=async()=>{const e=A[o]||A.default,a=J();return await e(a)},{data:t,isLoading:_,error:I,refetch:M}=je({queryKey:["reports",o,c.page,c.limit,n,d,m,s],queryFn:Q,keepPreviousData:!0}),G=((R=t==null?void 0:t.data)==null?void 0:R.reports)||((T=t==null?void 0:t.data)==null?void 0:T.projects)||((O=t==null?void 0:t.data)==null?void 0:O.expenses)||((L=t==null?void 0:t.data)==null?void 0:L.payrolls)||((B=t==null?void 0:t.data)==null?void 0:B.visaExpenses)||[],N=((V=t==null?void 0:t.data)==null?void 0:V.pagination)||{total:0,page:1,limit:10},S=i.useMemo(()=>be(e=>{f(e),K(a=>({...a,page:1}))},500),[]),X=e=>{S(e.target.value)},Z=()=>{var e;f(""),x(new Date().getMonth()+1),E(new Date().getFullYear()),Y({startDate:"",endDate:"",category:"",shop:""}),K({page:1,limit:10}),(e=b.current)==null||e.resetSorting()},ee=async()=>{var e;k(!0);try{let a;o==="profit"?a=await De({page:c.page,limit:c.limit,search:n,month:d,year:m,startDate:s.startDate,endDate:s.endDate}):o==="labour"?a=await Ke({page:c.page,limit:c.limit,search:n,startDate:s.startDate,endDate:s.endDate,employee:s.employee}):o==="payroll"?a=await ve({page:c.page,limit:c.limit,search:n,startDate:s.startDate,endDate:s.endDate,employee:s.employee}):o==="visaExpense"?a=await Ee({page:c.page,limit:c.limit,search:n,startDate:s.startDate,endDate:s.endDate,employee:s.employee}):a=await Fe({page:c.page,limit:c.limit,search:n,category:s.category,shop:s.shop,employee:s.employee,startDate:s.startDate,endDate:s.endDate,month:d,year:m,reportType:o,export:!0});const l=((e=a==null?void 0:a.data)==null?void 0:e.reports)||[];if(l.length===0){console.log("No data to export");return}const h=Object.keys(l[0]).join(",")+`
`,g=l.reduce((ie,ne)=>{const ce=Object.values(ne).join(",")+`
`;return ie+ce},h),te=new Blob([g],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(te),v=document.createElement("a");v.href=le,v.setAttribute("download",`${o}-reports-${new Date().toISOString()}.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v),console.log("Data exported successfully")}catch(a){console.error("Export failed:",a)}finally{k(!1)}},ae=i.useCallback(()=>{F(!1),M()},[M]),u=e=>{q(e),F(!0)},re=i.useMemo(()=>o==="expense"?[{header:"DATE",accessorKey:"reportDate",cell:e=>r.jsx("span",{children:w(e.row.original.reportDate).format("DD MMM YYYY")})},{header:"Description",accessorKey:"description",cell:e=>r.jsx("span",{children:e.row.original.description||"-"})},{header:"Amount",accessorKey:"amount",cell:e=>r.jsx("span",{children:e.row.original.amount.toFixed(2)})},{header:"Remarks",accessorKey:"remarks",cell:e=>r.jsx("span",{children:e.row.original.remarks})},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}]:o==="profit"?[{header:"DATE",accessorKey:"startDate",cell:e=>r.jsx("span",{children:w(e.row.original.startDate).format("DD MMM YYYY")})},{header:"Project Name",accessorKey:"projectName",cell:e=>r.jsx("span",{children:e.row.original.projectName})},{header:"PO Number",accessorKey:"poNumber",cell:e=>r.jsx("span",{children:e.row.original.poNumber})},{header:"Budget",accessorKey:"budget",cell:e=>{var a;return r.jsx("span",{className:"text-green-500",children:((a=e.row.original.budget)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Expenses",accessorKey:"expenses",cell:e=>{var a;return r.jsx("span",{className:"text-red-500",children:((a=e.row.original.expenses)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Profit",accessorKey:"profit",cell:e=>{var a;return r.jsx("span",{className:e.row.original.profit>=0?"text-green-500":"text-red-500",children:((a=e.row.original.profit)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Remarks",accessorKey:"description",cell:e=>r.jsx("span",{children:e.row.original.description||"-"})},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}]:o==="labour"?[{header:"Employee",accessorKey:"employee",cell:e=>{var a,l,h,g;return r.jsxs("span",{children:[(l=(a=e.row.original)==null?void 0:a.employee)==null?void 0:l.firstName," ",(g=(h=e.row.original)==null?void 0:h.employee)==null?void 0:g.lastName]})}},{header:"Designation",accessorKey:"designation",cell:e=>r.jsx("span",{children:e.row.original.designation})},{header:"Country",accessorKey:"country",cell:e=>r.jsx("span",{children:e.row.original.country})},{header:"Basic Salary",accessorKey:"basicSalary",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.basicSalary)==null?void 0:a.toFixed(2)})}},{header:"Allowance",accessorKey:"allowance",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.allowance)==null?void 0:a.toFixed(2)})}},{header:"Total Salary",accessorKey:"totalSalary",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.totalSalary)==null?void 0:a.toFixed(2)})}},{header:"2 Year Salary",accessorKey:"twoYearSalary",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.twoYearSalary)==null?void 0:a.toFixed(2)})}},{header:"Yearly Expenses",accessorKey:"perYearExpenses",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.perYearExpenses)==null?void 0:a.toFixed(2)})}},{header:"Monthly Expenses",accessorKey:"perMonthExpenses",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.perMonthExpenses)==null?void 0:a.toFixed(2)})}},{header:"Daily Expenses",accessorKey:"perDayExpenses",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.perDayExpenses)==null?void 0:a.toFixed(2)})}},{header:"Total Expenses",accessorKey:"totalExpensesPerPerson",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.totalExpensesPerPerson)==null?void 0:a.toFixed(2)})}},{header:"Visa Expenses",accessorKey:"visaExpenses",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.visaExpenses)==null?void 0:a.toFixed(2)})}},{header:"2 Year Uniform",accessorKey:"twoYearUniform",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.twoYearUniform)==null?void 0:a.toFixed(2)})}},{header:"Shoes",accessorKey:"shoes",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.shoes)==null?void 0:a.toFixed(2)})}},{header:"2 Year Accommodation",accessorKey:"twoYearAccommodation",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.twoYearAccommodation)==null?void 0:a.toFixed(2)})}},{header:"SEWA Bills",accessorKey:"sewaBills",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.sewaBills)==null?void 0:a.toFixed(2)})}},{header:"DEWA Bills",accessorKey:"dewaBills",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.dewaBills)==null?void 0:a.toFixed(2)})}},{header:"Insurance",accessorKey:"insurance",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.insurance)==null?void 0:a.toFixed(2)})}},{header:"Transport",accessorKey:"transport",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.transport)==null?void 0:a.toFixed(2)})}},{header:"Water",accessorKey:"water",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.water)==null?void 0:a.toFixed(2)})}},{header:"3rd Party Liabilities",accessorKey:"thirdPartyLiabilities",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.thirdPartyLiabilities)==null?void 0:a.toFixed(2)})}},{header:"Fairmont Certificate",accessorKey:"fairmontCertificate",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.fairmontCertificate)==null?void 0:a.toFixed(2)})}},{header:"Leave Salary",accessorKey:"leaveSalary",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.leaveSalary)==null?void 0:a.toFixed(2)})}},{header:"Ticket",accessorKey:"ticket",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.ticket)==null?void 0:a.toFixed(2)})}},{header:"Gratuity",accessorKey:"gratuity",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.gratuity)==null?void 0:a.toFixed(2)})}},{header:"Custom Expenses",accessorKey:"customExpenses",cell:e=>{var a,l;return r.jsx("span",{children:(l=(a=e.row.original)==null?void 0:a.customExpenses)==null?void 0:l.map(h=>`${h.name}: ${h.amount}`).join(", ")})}},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}]:o==="payroll"?[{header:"Employee",accessorKey:"name",cell:e=>r.jsx("span",{children:e.row.original.name||"-"})},{header:"Designation",accessorKey:"designation",cell:e=>r.jsx("span",{children:e.row.original.designation||"-"})},{header:"Emirates ID",accessorKey:"emiratesId",cell:e=>r.jsx("span",{children:e.row.original.emiratesId||"-"})},{header:"Labour Card",accessorKey:"labourCard",cell:e=>r.jsx("span",{children:e.row.original.labourCard||"-"})},{header:"Personal No.",accessorKey:"labourCardPersonalNo",cell:e=>r.jsx("span",{children:e.row.original.labourCardPersonalNo||"-"})},{header:"Period",accessorKey:"period",cell:e=>r.jsx("span",{children:e.row.original.period||"-"})},{header:"Basic Salary",accessorKey:"basic",cell:e=>{var a;return r.jsx("span",{className:"font-medium",children:((a=e.row.original.basic)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Allowance",accessorKey:"allowance",cell:e=>{var a;return r.jsx("span",{className:"text-green-500",children:((a=e.row.original.allowance)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"OT",accessorKey:"ot",cell:e=>{var a;return r.jsx("span",{children:((a=e.row.original.ot)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Total Earning",accessorKey:"totalEarning",cell:e=>{var a;return r.jsx("span",{className:"font-semibold",children:((a=e.row.original.totalEarning)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Deduction",accessorKey:"deduction",cell:e=>{var a;return r.jsx("span",{className:"text-red-500",children:((a=e.row.original.deduction)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Mess",accessorKey:"mess",cell:e=>{var a;return r.jsx("span",{children:((a=e.row.original.mess)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Advance",accessorKey:"advance",cell:e=>{var a;return r.jsx("span",{children:((a=e.row.original.advance)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Net Salary",accessorKey:"net",cell:e=>{var a;return r.jsx("span",{className:"font-semibold text-blue-500",children:((a=e.row.original.net)==null?void 0:a.toFixed(2))||"0.00"})}},{header:"Remarks",accessorKey:"remark",cell:e=>r.jsx("span",{children:e.row.original.remark||"-"})},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}]:o==="visaExpense"?[{header:"Employee",accessorKey:"employee",cell:e=>{var a,l;return r.jsxs("span",{children:[(a=e.row.original.employee)==null?void 0:a.firstName," ",(l=e.row.original.employee)==null?void 0:l.lastName]})}},{header:"IBAN",accessorKey:"iBan",cell:e=>r.jsx("span",{children:e.row.original.iBan})},{header:"Passport No",accessorKey:"passportNumber",cell:e=>r.jsx("span",{children:e.row.original.passportNumber})},{header:"Passport Expiry",accessorKey:"passportExpireDate",cell:e=>r.jsx("span",{children:w(e.row.original.passportExpireDate).format("DD/MM/YYYY")})},{header:"Emirate ID",accessorKey:"emirateIdNumber",cell:e=>r.jsx("span",{children:e.row.original.emirateIdNumber})},{header:"Emirate ID Expiry",accessorKey:"emirateIdExpireDate",cell:e=>r.jsx("span",{children:w(e.row.original.emirateIdExpireDate).format("DD/MM/YYYY")})},{header:"Labour Card No",accessorKey:"labourCardPersonalNumber",cell:e=>r.jsx("span",{children:e.row.original.labourCardPersonalNumber})},{header:"Work Permit No",accessorKey:"workPermitNumber",cell:e=>r.jsx("span",{children:e.row.original.workPermitNumber})},{header:"Labour Expiry",accessorKey:"labourExpireDate",cell:e=>r.jsx("span",{children:w(e.row.original.labourExpireDate).format("DD/MM/YYYY")})},{header:"Offer Letter Typing",accessorKey:"offerLetterTyping",cell:e=>r.jsx("span",{children:e.row.original.offerLetterTyping.toFixed(2)})},{header:"Labour Insurance",accessorKey:"labourInsurance",cell:e=>r.jsx("span",{children:e.row.original.labourInsurance.toFixed(2)})},{header:"Labour Card Payment",accessorKey:"labourCardPayment",cell:e=>r.jsx("span",{children:e.row.original.labourCardPayment.toFixed(2)})},{header:"Status Change In/Out",accessorKey:"statusChangeInOut",cell:e=>r.jsx("span",{children:e.row.original.statusChangeInOut.toFixed(2)})},{header:"Inside Entry",accessorKey:"insideEntry",cell:e=>r.jsx("span",{children:e.row.original.insideEntry.toFixed(2)})},{header:"Medical Sharjah",accessorKey:"medicalSharjah",cell:e=>r.jsx("span",{children:e.row.original.medicalSharjah.toFixed(2)})},{header:"Tajweeh Submission",accessorKey:"tajweehSubmission",cell:e=>r.jsx("span",{children:e.row.original.tajweehSubmission.toFixed(2)})},{header:"ILOE Insurance",accessorKey:"iloeInsurance",cell:e=>r.jsx("span",{children:e.row.original.iloeInsurance.toFixed(2)})},{header:"Health Insurance",accessorKey:"healthInsurance",cell:e=>r.jsx("span",{children:e.row.original.healthInsurance.toFixed(2)})},{header:"Emirate ID Fee",accessorKey:"emirateId",cell:e=>r.jsx("span",{children:e.row.original.emirateId.toFixed(2)})},{header:"Residence Stamping",accessorKey:"residenceStamping",cell:e=>r.jsx("span",{children:e.row.original.residenceStamping.toFixed(2)})},{header:"Srilanka Council",accessorKey:"srilankaCouncilHead",cell:e=>r.jsx("span",{children:e.row.original.srilankaCouncilHead.toFixed(2)})},{header:"Upscoding",accessorKey:"upscoding",cell:e=>r.jsx("span",{children:e.row.original.upscoding.toFixed(2)})},{header:"Labour Fine Payment",accessorKey:"labourFinePayment",cell:e=>r.jsx("span",{children:e.row.original.labourFinePayment.toFixed(2)})},{header:"Labour Card Renewal",accessorKey:"labourCardRenewalPayment",cell:e=>r.jsx("span",{children:e.row.original.labourCardRenewalPayment.toFixed(2)})},{header:"Service Payment",accessorKey:"servicePayment",cell:e=>r.jsx("span",{children:e.row.original.servicePayment.toFixed(2)})},{header:"Visa Stamping",accessorKey:"visaStamping",cell:e=>r.jsx("span",{children:e.row.original.visaStamping.toFixed(2)})},{header:"2 Month Visa",accessorKey:"twoMonthVisitingVisa",cell:e=>r.jsx("span",{children:e.row.original.twoMonthVisitingVisa.toFixed(2)})},{header:"Fine Payment",accessorKey:"finePayment",cell:e=>r.jsx("span",{children:e.row.original.finePayment.toFixed(2)})},{header:"Entry Permit Outside",accessorKey:"entryPermitOutside",cell:e=>r.jsx("span",{children:e.row.original.entryPermitOutside.toFixed(2)})},{header:"Complaint Employee",accessorKey:"complaintEmployee",cell:e=>r.jsx("span",{children:e.row.original.complaintEmployee.toFixed(2)})},{header:"Arabic Letter",accessorKey:"arabicLetter",cell:e=>r.jsx("span",{children:e.row.original.arabicLetter.toFixed(2)})},{header:"Violation Committee",accessorKey:"violationCommittee",cell:e=>r.jsx("span",{children:e.row.original.violationCommittee.toFixed(2)})},{header:"Quota Modification",accessorKey:"quotaModification",cell:e=>r.jsx("span",{children:e.row.original.quotaModification.toFixed(2)})},{header:"Others",accessorKey:"others",cell:e=>r.jsx("span",{children:e.row.original.others.toFixed(2)})},{header:"Total",accessorKey:"total",cell:e=>r.jsx("span",{className:"font-semibold",children:e.row.original.total.toFixed(2)})},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}]:[{header:"DATE",accessorKey:"reportDate",cell:e=>r.jsx("span",{children:w(e.row.original.reportDate).format("DD MMM YYYY")})},{header:"Amount",accessorKey:"amount",cell:e=>r.jsx("span",{children:e.row.original.amount.toFixed(2)})},{header:"Category",accessorKey:"category",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.category)==null?void 0:a.name})}},{header:"Shop",accessorKey:"shop",cell:e=>{var a;return r.jsx("span",{children:(a=e.row.original.shop)==null?void 0:a.shopName})}},{header:"Remarks",accessorKey:"remarks",cell:e=>r.jsx("span",{children:e.row.original.remarks})},{header:"Action",id:"action",cell:e=>r.jsx(j,{row:e.row.original,onDeleteClick:u})}],[o,u]),se=e=>{K(a=>({...a,page:e}))},oe=e=>{K({page:1,limit:e})};return i.useEffect(()=>{var a;const e=((a=P.find(l=>l.value===d))==null?void 0:a.label)||"";p(e)},[d,p]),i.useEffect(()=>()=>{S.cancel()},[S]),I?r.jsxs("div",{className:"p-4 text-red-500",children:["Error loading reports: ",I.message]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[r.jsx(fe,{placeholder:"Search reports...",onChange:X,className:"w-full md:max-w-md",value:n}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center w-full md:w-auto",children:[r.jsx("select",{className:"p-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:d,onChange:e=>{var h;const a=Number(e.target.value),l=((h=P.find(g=>g.value===a))==null?void 0:h.label)||"";x(a),p(l)},children:P.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))}),r.jsx("select",{className:"p-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:m,onChange:e=>E(Number(e.target.value)),children:Ie().map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))}),r.jsx("button",{onClick:Z,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",title:"Reset filters",children:r.jsx(he,{size:18})}),r.jsx("button",{onClick:ee,disabled:D,className:`p-2 ${D?"text-gray-400":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,title:D?"Exporting...":"Export reports",children:r.jsx(xe,{size:18})}),r.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[r.jsx(ge,{size:16}),"Filter"]})]})]})}),r.jsx(pe,{ref:b,columns:re,data:G,skeletonAvatarColumns:[0],skeletonAvatarProps:{className:"rounded-md"},loading:_,pagingData:{total:N.total,pageIndex:N.page,pageSize:N.limit},onPaginationChange:se,onSelectChange:oe}),r.jsx(Ye,{isOpen:H,onClose:()=>F(!1),bill:U,refetch:ae,reportType:o}),r.jsx(Ae,{isOpen:z,billType:o,onClose:()=>C(!1),onRequestClose:()=>C(!1),onApplyFilters:W,initialFilters:s})]})};export{We as R};
